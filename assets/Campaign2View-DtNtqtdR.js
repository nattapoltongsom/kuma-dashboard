import{d as F,r as h,c as d,o as E,f as N,a as s,b as t,e as k,g as v,t as n,F as g,h as m,i as p,_ as D,j as K,k as O,l as r}from"./index-CQ0LcFHT.js";const T={class:"page-container"},_={key:0,class:"loading"},S={key:1,class:"error"},x={key:2},V={class:"grid-container"},P={class:"table-container"},$={class:"table-container"},A={class:"table-container"},M={class:"grid-container"},j={class:"chart-container"},I={class:"chart-container"},q={class:"chart-container",style:{"margin-top":"2rem"}},z={class:"table-container"},J=F({__name:"Campaign2View",setup(G){const c=h(!0),i=h(null),o=h([]),u=e=>parseFloat(e.replace(/,|%/g,""))||0,y=e=>{e[0];const a=e.slice(1);console.log("rows",a),o.value=a.map(l=>({no:parseInt(l[0]),kolName:l[1],follower:u(l[2]),platform:l[3],type:l[4],link:l[5],reach:u(l[6]),like:u(l[7]),comment:u(l[8]),share:u(l[9]),ctr:u(l[10]),totalEngagement:u(l[11]),engagementRateByFollower:u(l[12]),engagementRateByReach:u(l[13])}))},b=d(()=>[...o.value].sort((e,a)=>a.engagementRateByReach-e.engagementRateByReach).slice(0,5)),R=d(()=>[...o.value].sort((e,a)=>a.reach-e.reach).slice(0,5)),L=d(()=>[...o.value].sort((e,a)=>a.ctr-e.ctr).slice(0,5)),B=d(()=>({labels:o.value.map(e=>e.kolName),datasets:[{label:"Total Engagement",data:o.value.map(e=>e.totalEngagement),backgroundColor:"#36A2EB"},{label:"Reach",data:o.value.map(e=>e.reach),backgroundColor:"#4BC0C0"}]})),f=d(()=>({labels:o.value.map(e=>e.kolName),datasets:[{label:"Total Engagement",data:o.value.map(e=>e.totalEngagement),backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16","#FDB45C","#949FB1"]}]})),C=d(()=>({labels:o.value.map(e=>e.kolName),datasets:[{label:"Engagement Rate by Reach (%)",data:o.value.map(e=>e.engagementRateByReach),borderColor:"#42b983",tension:.1}]}));return E(async()=>{try{c.value=!0;const e=await N("Campaign 2");console.log("data",e),e&&e.length>1?y(e):i.value="No data found."}catch(e){console.log("Failed to load data.",e),i.value="Failed to load data."}finally{c.value=!1}}),(e,a)=>(r(),s("div",T,[a[12]||(a[12]=t("h1",null,"Campaign 1 Details",-1)),a[13]||(a[13]=k()),c.value?(r(),s("div",_,"Loading Data...")):v("",!0),i.value?(r(),s("div",S,n(i.value),1)):v("",!0),!c.value&&!i.value?(r(),s("div",x,[t("div",V,[t("div",P,[a[1]||(a[1]=t("h2",null,"🏆 Top 5 KOLs by Engagement Rate",-1)),t("table",null,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",null,"KOL"),t("th",null,"Rate by Reach")])],-1)),t("tbody",null,[(r(!0),s(g,null,m(b.value,l=>(r(),s("tr",{key:l.no},[t("td",null,n(l.kolName),1),t("td",null,n(l.engagementRateByReach.toFixed(2))+"%",1)]))),128))])])]),t("div",$,[a[3]||(a[3]=t("h2",null,"🚀 Top 5 KOLs by Reach",-1)),t("table",null,[a[2]||(a[2]=t("thead",null,[t("tr",null,[t("th",null,"KOL"),t("th",null,"Reach")])],-1)),t("tbody",null,[(r(!0),s(g,null,m(R.value,l=>(r(),s("tr",{key:l.no},[t("td",null,n(l.kolName),1),t("td",null,n(l.reach.toLocaleString()),1)]))),128))])])]),t("div",A,[a[5]||(a[5]=t("h2",null,"🎯 Top 5 KOLs by CTR",-1)),t("table",null,[a[4]||(a[4]=t("thead",null,[t("tr",null,[t("th",null,"KOL"),t("th",null,"CTR")])],-1)),t("tbody",null,[(r(!0),s(g,null,m(L.value,l=>(r(),s("tr",{key:l.no},[t("td",null,n(l.kolName),1),t("td",null,n(l.ctr.toFixed(2))+"%",1)]))),128))])])])]),t("div",M,[t("div",j,[a[6]||(a[6]=t("h2",null,"KOLs Metrics (Bar)",-1)),p(D,{"chart-data":B.value},null,8,["chart-data"])]),t("div",I,[a[7]||(a[7]=t("h2",null,"Engagement Proportion (Pie)",-1)),p(K,{"chart-data":f.value},null,8,["chart-data"])])]),t("div",q,[a[8]||(a[8]=t("h2",null,"KOLs Engagement Rate Trend (Line)",-1)),p(O,{"chart-data":C.value},null,8,["chart-data"])]),a[11]||(a[11]=t("div",{class:"grid-container"},null,-1)),t("div",z,[a[10]||(a[10]=t("h2",null,"📊 All KOL Performance Data",-1)),t("table",null,[a[9]||(a[9]=t("thead",null,[t("tr",null,[t("th",null,"No."),t("th",null,"KOL Name"),t("th",null,"Followers"),t("th",null,"Platform"),t("th",null,"Type"),t("th",null,"Reach"),t("th",null,"Likes"),t("th",null,"Comments"),t("th",null,"Shares"),t("th",null,"CTR (%)"),t("th",null,"Total Engagement"),t("th",null,"ER by Follower (%)"),t("th",null,"ER by Reach (%)")])],-1)),t("tbody",null,[(r(!0),s(g,null,m(o.value,l=>(r(),s("tr",{key:l.no},[t("td",null,n(l.no),1),t("td",null,n(l.kolName),1),t("td",null,n(l.follower.toLocaleString()),1),t("td",null,n(l.platform),1),t("td",null,n(l.type),1),t("td",null,n(l.reach.toLocaleString()),1),t("td",null,n(l.like.toLocaleString()),1),t("td",null,n(l.comment.toLocaleString()),1),t("td",null,n(l.share.toLocaleString()),1),t("td",null,n(l.ctr.toFixed(2)),1),t("td",null,n(l.totalEngagement.toLocaleString()),1),t("td",null,n(l.engagementRateByFollower.toFixed(2)),1),t("td",null,n(l.engagementRateByReach.toFixed(2)),1)]))),128))])])])])):v("",!0)]))}});export{J as default};
